{"version":3,"file":"index.js","sources":["../../src/index.js"],"sourcesContent":["let detected = false\nlet supported = false\n\nconst detect = () => {\n  const canvas = document.createElement('canvas')\n\n  if(!canvas.toDataURL)\n    return false\n  canvas.width = 1\n  canvas.height = 1\n  try {\n    const url = canvas.toDataURL('image/webp')\n    return url.substring(5, 15) === 'image/webp'\n  } catch (e) {\n    return false\n  }\n}\n\nexport default () => {\n  if(!detected) {\n    supported = detect()\n    detected = true\n  }\n  return supported\n}\n"],"names":["detected","supported","detect","canvas","document","createElement","toDataURL","width","height","url","substring","e"],"mappings":"AAAA,IAAIA,QAAQ,GAAG,KAAf;AACA,IAAIC,SAAS,GAAG,KAAhB;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AACnB,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;AAEA,MAAG,CAACF,MAAM,CAACG,SAAX,EACE,OAAO,KAAP;AACFH,EAAAA,MAAM,CAACI,KAAP,GAAe,CAAf;AACAJ,EAAAA,MAAM,CAACK,MAAP,GAAgB,CAAhB;;AACA,MAAI;AACF,QAAMC,GAAG,GAAGN,MAAM,CAACG,SAAP,CAAiB,YAAjB,CAAZ;AACA,WAAOG,GAAG,CAACC,SAAJ,CAAc,CAAd,EAAiB,EAAjB,MAAyB,YAAhC;AACD,GAHD,CAGE,OAAOC,CAAP,EAAU;AACV,WAAO,KAAP;AACD;AACF,CAbD;;AAeA,aAAe,YAAM;AACnB,MAAG,CAACX,QAAJ,EAAc;AACZC,IAAAA,SAAS,GAAGC,MAAM,EAAlB;AACAF,IAAAA,QAAQ,GAAG,IAAX;AACD;;AACD,SAAOC,SAAP;AACD,CAND;;;;"}